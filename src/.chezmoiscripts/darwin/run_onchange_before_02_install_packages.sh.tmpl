#!/bin/bash

set -eufo pipefail

brew bundle --no-lock --file=/dev/stdin <<EOF
{{ range (.packages.darwin.taps | sortAlpha | uniq) -}}
tap "{{ . }}"
{{ end -}}

{{ range (.packages.darwin.fonts | sortAlpha | uniq) -}}
cask "{{ . }}"
{{ end -}}

{{ range (.packages.darwin.languages | sortAlpha | uniq) -}}
brew "{{ . }}"
{{ end -}}

{{ range (.packages.darwin.cli | sortAlpha | uniq) -}}
brew "{{ . }}"
{{ end -}}

{{ range (.packages.darwin.casks | sortAlpha | uniq) -}}
cask "{{ .packages.darwin.casks }}"
{{ end -}}
EOF


